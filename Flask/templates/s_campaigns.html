{% extends "layout.html" %}

{% block content %}
    <h1 class="text-center my-4">Campaigns</h1>

    <!-- Add New Campaign Button -->
    <div class="text-center mb-4">
        <a href="{{ url_for('add_campaign') }}" class="btn btn-success btn-lg rounded-circle shadow-lg"
           style="width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; font-size: 24px;"
           title="Add new Campaign">
           <i class="fas fa-plus"></i>
        </a>
    </div>
    
    <!-- Campaign Cards -->
    <div class="row">
        {% for campaign in campaigns %}
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm border-0">
                    <img src="{{ campaign.image }}" class="card-img-top" alt="{{ campaign.title }}">
                    <div class="card-body">
                        <h5 class="card-title">{{ campaign.title }}</h5>
                        <p class="card-text">{{ campaign.description }}</p>
                        <p class="card-text"><strong>Budget:</strong> ${{ campaign.budget }}</p>
                        <p class="card-text"><strong>Category:</strong> {{ campaign.category }}</p>
                        <p class="card-text"><strong>Status:</strong> {{ campaign.status }}</p>
                        <p class="card-text"><strong>Products:</strong> {{ campaign.products }}</p>
                        <p class="card-text"><strong>Goals:</strong> {{ campaign.goals }}</p>
                        <div class="progress mb-2">
                            <div class="progress-bar" role="progressbar" style="width: {{ campaign.progress }}%;" aria-valuenow="{{ campaign.progress }}" aria-valuemin="0" aria-valuemax="100">{{ campaign.progress }}%</div>
                        </div>
                        <p class="card-text"><strong>Start Date:</strong> {{ campaign.start_date }}</p>
                        <p class="card-text"><strong>End Date:</strong> {{ campaign.end_date }}</p>
                        <a href="{{ url_for('add_ad_request', campaign_id=campaign.id) }}" class="btn btn-primary"><i class="fas fa-plus-circle"></i> Create New Ad Request</a>
                        <a href="{{ url_for('edit_campaign', campaign_id=campaign.id) }}" class="btn btn-secondary mt-2"><i class="fas fa-edit"></i> Edit Campaign</a>
                        <a href="{{ url_for('view_ad_requests', campaign_id=campaign.id) }}" class="btn btn-secondary mt-2"><i class="fas fa-eye"></i> View Ads Sent</a>
                        <a href="{{ url_for('delete_campaign', campaign_id=campaign.id) }}" class="btn btn-danger mt-2"><i class="fas fa-trash-alt"></i> Delete Campaign</a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

{% endblock %}

<style>
    .card:hover {
        transform: scale(1.05);
        transition: transform 0.2s;
    }

    .progress-bar {
        background-color: #28a745;
    }

    .btn-success {
        background-color: #28a745;
        border-color: #28a745;
    }

    .btn-success:hover {
        background-color: #218838;
        border-color: #1e7e34;
    }

    .btn-success:focus, .btn-success.focus {
        box-shadow: 0 0 0 0.2rem rgba(72, 180, 97, 0.5);
    }

    .btn-lg {
        padding: 0;
    }

    .rounded-circle {
        border-radius: 50% !important;
    }

    .shadow-lg {
        box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.175) !important;
    }
</style>
